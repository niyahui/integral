/* X-editable - v1.4.6 
* In-place editing with Twitter Bootstrap, jQuery UI or pure jQuery
* http://github.com/vitalets/x-editable
* Copyright (c) 2013 Vitaliy Potapov; Licensed MIT 
* Improved by Keenthemes for Bootstrap 3.0 support */
(function(B){var A=function(D,C){this.options=B.extend({},B.fn.editableform.defaults,C);this.$div=B(D);if(!this.options.scope){this.options.scope=this}};A.prototype={constructor:A,initInput:function(){this.input=this.options.input;this.value=this.input.str2value(this.options.value)},initTemplate:function(){this.$form=B(B.fn.editableform.template)},initButtons:function(){var C=this.$form.find(".editable-buttons");C.append(B.fn.editableform.buttons);if(this.options.showbuttons==="bottom"){C.addClass("editable-buttons-bottom")}},render:function(){this.$loading=B(B.fn.editableform.loading);this.$div.empty().append(this.$loading);this.initTemplate();if(this.options.showbuttons){this.initButtons()}else{this.$form.find(".editable-buttons").remove()}this.showLoading();this.isSaving=false;this.$div.triggerHandler("rendering");this.initInput();this.input.prerender();this.$form.find("div.editable-input").append(this.input.$tpl);this.$div.append(this.$form);B.when(this.input.render()).then(B.proxy(function(){if(!this.options.showbuttons){this.input.autosubmit()}this.$form.find(".editable-cancel").click(B.proxy(this.cancel,this));if(this.input.error){this.error(this.input.error);this.$form.find(".editable-submit").attr("disabled",true);this.input.$input.attr("disabled",true);this.$form.submit(function(D){D.preventDefault()})}else{this.error(false);this.input.$input.removeAttr("disabled");this.$form.find(".editable-submit").removeAttr("disabled");var C=(this.value===null||this.value===undefined||this.value==="")?this.options.defaultValue:this.value;this.input.value2input(C);this.$form.submit(B.proxy(this.submit,this))}this.$div.triggerHandler("rendered");this.showForm();if(this.input.postrender){this.input.postrender()}},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var D,C;if(this.$form){D=this.$form.outerWidth();C=this.$form.outerHeight();if(D){this.$loading.width(D)}if(C){this.$loading.height(C)}this.$form.hide()}else{D=this.$loading.parent().width();if(D){this.$loading.width(D)}}this.$loading.show()},showForm:function(C){this.$loading.hide();this.$form.show();if(C!==false){this.input.activate()}this.$div.triggerHandler("show")},error:function(G){var E=this.$form.find(".form-group"),D=this.$form.find(".editable-error-block"),F;if(G===false){E.removeClass(B.fn.editableform.errorGroupClass);D.removeClass(B.fn.editableform.errorBlockClass).empty().hide()}else{if(G){F=G.split("\n");for(var C=0;C<F.length;C++){F[C]=B("<div>").text(F[C]).html()}G=F.join("<br>")}E.addClass(B.fn.editableform.errorGroupClass);D.addClass(B.fn.editableform.errorBlockClass).html(G).show()}},submit:function(C){C.stopPropagation();C.preventDefault();var E,F=this.input.input2value();if(E=this.validate(F)){this.error(E);this.showForm();return}if(!this.options.savenochange&&this.input.value2str(F)==this.input.value2str(this.value)){this.$div.triggerHandler("nochange");return}var D=this.input.value2submit(F);this.isSaving=true;B.when(this.save(D)).done(B.proxy(function(H){this.isSaving=false;var G=typeof this.options.success==="function"?this.options.success.call(this.options.scope,H,F):null;if(G===false){this.error(false);this.showForm(false);return}if(typeof G==="string"){this.error(G);this.showForm();return}if(G&&typeof G==="object"&&G.hasOwnProperty("newValue")){F=G.newValue}this.error(false);this.value=F;this.$div.triggerHandler("save",{newValue:F,submitValue:D,response:H})},this)).fail(B.proxy(function(G){this.isSaving=false;var H;if(typeof this.options.error==="function"){H=this.options.error.call(this.options.scope,G,F)}else{H=typeof G==="string"?G:G.responseText||G.statusText||"Unknown error!"}this.error(H);this.showForm()},this))},save:function(D){this.options.pk=B.fn.editableutils.tryParseJson(this.options.pk,true);var C=(typeof this.options.pk==="function")?this.options.pk.call(this.options.scope):this.options.pk,E=!!(typeof this.options.url==="function"||(this.options.url&&((this.options.send==="always")||(this.options.send==="auto"&&C!==null&&C!==undefined)))),F;if(E){this.showLoading();F={name:this.options.name||"",value:D,pk:C};if(typeof this.options.params==="function"){F=this.options.params.call(this.options.scope,F)}else{this.options.params=B.fn.editableutils.tryParseJson(this.options.params,true);B.extend(F,this.options.params)}if(typeof this.options.url==="function"){return this.options.url.call(this.options.scope,F)}else{return B.ajax(B.extend({url:this.options.url,data:F,type:"POST"},this.options.ajaxOptions))}}},validate:function(C){if(C===undefined){C=this.value}if(typeof this.options.validate==="function"){return this.options.validate.call(this.options.scope,C)}},option:function(C,D){if(C in this.options){this.options[C]=D}if(C==="value"){this.setValue(D)}},setValue:function(C,D){if(D){this.value=this.input.str2value(C)}else{this.value=C}if(this.$form&&this.$form.is(":visible")){this.input.value2input(this.value)}}};B.fn.editableform=function(C){var D=arguments;return this.each(function(){var E=B(this),G=E.data("editableform"),F=typeof C==="object"&&C;if(!G){E.data("editableform",(G=new A(this,F)))}if(typeof C==="string"){G[C].apply(G,Array.prototype.slice.call(D,1))}})};B.fn.editableform.Constructor=A;B.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:true,scope:null,savenochange:false};B.fn.editableform.template='<form class="form-inline editableform"><div class="form-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>';B.fn.editableform.loading='<div class="editableform-loading"></div>';B.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>';B.fn.editableform.errorGroupClass="has-error";B.fn.editableform.errorBlockClass="editable-error"}(window.jQuery));(function(A){A.fn.editableutils={inherit:function(C,D){var B=function(){};B.prototype=D.prototype;C.prototype=new B();C.prototype.constructor=C;C.superclass=D.prototype},setCursorPosition:function(C,B){if(C.setSelectionRange){C.setSelectionRange(B,B)}else{if(C.createTextRange){var D=C.createTextRange();D.collapse(true);D.moveEnd("character",B);D.moveStart("character",B);D.select()}}},tryParseJson:function(B,D){if(typeof B==="string"&&B.length&&B.match(/^[\{\[].*[\}\]]$/)){if(D){try{B=(new Function("return "+B))()}catch(C){}finally{return B}}else{B=(new Function("return "+B))()}}return B},sliceObj:function(C,F,G){var B,H,E={};if(!A.isArray(F)||!F.length){return E}for(var D=0;D<F.length;D++){B=F[D];if(C.hasOwnProperty(B)){E[B]=C[B]}if(G===true){continue}H=B.toLowerCase();if(C.hasOwnProperty(H)){E[B]=C[H]}}return E},getConfigData:function(B){var C={};A.each(B.data(),function(E,D){if(typeof D!=="object"||(D&&typeof D==="object"&&(D.constructor===Object||D.constructor===Array))){C[E]=D}});return C},objectKeys:function(B){if(Object.keys){return Object.keys(B)}else{if(B!==Object(B)){throw new TypeError("Object.keys called on a non-object")}var D=[],C;for(C in B){if(Object.prototype.hasOwnProperty.call(B,C)){D.push(C)}}return D}},escape:function(B){return A("<div>").text(B).html()},itemsByValue:function(F,E,B){if(!E||F===null){return[]}if(typeof(B)!=="function"){var G=B||"value";B=function(I){return I[G]}}var D=A.isArray(F),C=[],H=this;A.each(E,function(I,J){if(J.children){C=C.concat(H.itemsByValue(F,J.children,B))}else{if(D){if(A.grep(F,function(L){return L==(J&&typeof J==="object"?B(J):J)}).length){C.push(J)}}else{var K=(J&&(typeof J==="object"))?B(J):J;if(F==K){C.push(J)}}}});return C},createInput:function(D){var E,C,B,F=D.type;if(F==="date"){if(D.mode==="inline"){if(A.fn.editabletypes.datefield){F="datefield"}else{if(A.fn.editabletypes.dateuifield){F="dateuifield"}}}else{if(A.fn.editabletypes.date){F="date"}else{if(A.fn.editabletypes.dateui){F="dateui"}}}if(F==="date"&&!A.fn.editabletypes.date){F="combodate"}}if(F==="datetime"&&D.mode==="inline"){F="datetimefield"}if(F==="wysihtml5"&&!A.fn.editabletypes[F]){F="textarea"}if(typeof A.fn.editabletypes[F]==="function"){E=A.fn.editabletypes[F];C=this.sliceObj(D,this.objectKeys(E.defaults));B=new E(C);return B}else{A.error("Unknown type: "+F);return false}},supportsTransitions:function(){var F=document.body||document.documentElement,C=F.style,D="transition",E=["Moz","Webkit","Khtml","O","ms"];if(typeof C[D]==="string"){return true}D=D.charAt(0).toUpperCase()+D.substr(1);for(var B=0;B<E.length;B++){if(typeof C[E[B]+D]==="string"){return true}}return false}}}(window.jQuery));(function(C){var B=function(E,D){this.init(E,D)};var A=function(E,D){this.init(E,D)};B.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",init:function(E,D){this.$element=C(E);this.options=C.extend({},C.fn.editableContainer.defaults,D);this.splitOptions();this.formOptions.scope=this.$element[0];this.initContainer();this.delayedHide=false;this.$element.on("destroyed",C.proxy(function(){this.destroy()},this));if(!C(document).data("editable-handlers-attached")){C(document).on("keyup.editable",function(F){if(F.which===27){C(".editable-open").editableContainer("hide")}});C(document).on("click.editable",function(G){var H=C(G.target),F,I=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(!C.contains(document.documentElement,G.target)){return}if(H.is(document)){return}for(F=0;F<I.length;F++){if(H.is(I[F])||H.parents(I[F]).length){return}}B.prototype.closeOthers(G.target)});C(document).data("editable-handlers-attached",true)}},splitOptions:function(){this.containerOptions={};this.formOptions={};if(!C.fn[this.containerName]){throw new Error(this.containerName+" not found. Have you included corresponding js file?")}var D=C.fn[this.containerName].defaults;for(var E in this.options){if(E in D){this.containerOptions[E]=this.options[E]}else{this.formOptions[E]=this.options[E]}}},tip:function(){return this.container()?this.container().$tip:null},container:function(){var D;if(this.containerDataName){if(D=this.$element.data(this.containerDataName)){return D}}D=this.$element.data(this.containerName);return D},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:C.proxy(this.save,this),nochange:C.proxy(function(){this.hide("nochange")},this),cancel:C.proxy(function(){this.hide("cancel")},this),show:C.proxy(function(){if(this.delayedHide){this.hide(this.delayedHide.reason);this.delayedHide=false}else{this.setPosition()}},this),rendering:C.proxy(this.setPosition,this),resize:C.proxy(this.setPosition,this),rendered:C.proxy(function(){this.$element.triggerHandler("shown",C(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(D){this.$element.addClass("editable-open");if(D!==false){this.closeOthers(this.$element[0])}this.innerShow();this.tip().addClass(this.containerClass);if(this.$form){}this.$form=C("<div>");if(this.tip().is(this.innerCss)){this.tip().append(this.$form)}else{this.tip().find(this.innerCss).append(this.$form)}this.renderForm()},hide:function(D){if(!this.tip()||!this.tip().is(":visible")||!this.$element.hasClass("editable-open")){return}if(this.$form.data("editableform").isSaving){this.delayedHide={reason:D};return}else{this.delayedHide=false}this.$element.removeClass("editable-open");this.innerHide();this.$element.triggerHandler("hidden",D||"manual")},innerShow:function(){},innerHide:function(){},toggle:function(D){if(this.container()&&this.tip()&&this.tip().is(":visible")){this.hide()}else{this.show(D)}},setPosition:function(){},save:function(D,E){this.$element.triggerHandler("save",E);this.hide("save")},option:function(D,E){this.options[D]=E;if(D in this.containerOptions){this.containerOptions[D]=E;this.setContainerOption(D,E)}else{this.formOptions[D]=E;if(this.$form){this.$form.editableform("option",D,E)}}},setContainerOption:function(D,E){this.call("option",D,E)},destroy:function(){this.hide();this.innerDestroy();this.$element.off("destroyed");this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(D){C(".editable-open").each(function(F,E){if(E===D||C(E).find(D).length){return}var G=C(E),H=G.data("editableContainer");if(!H){return}if(H.options.onblur==="cancel"){G.data("editableContainer").hide("onblur")}else{if(H.options.onblur==="submit"){G.data("editableContainer").tip().find("form").submit()}}})},activate:function(){if(this.tip&&this.tip().is(":visible")&&this.$form){this.$form.data("editableform").input.activate()}}};C.fn.editableContainer=function(D){var E=arguments;return this.each(function(){var H=C(this),F="editableContainer",J=H.data(F),I=typeof D==="object"&&D,G=(I.mode==="inline")?A:B;if(!J){H.data(F,(J=new G(this,I)))}if(typeof D==="string"){J[D].apply(J,Array.prototype.slice.call(E,1))}})};C.fn.editableContainer.Popup=B;C.fn.editableContainer.Inline=A;C.fn.editableContainer.defaults={value:null,placement:"top",autohide:true,onblur:"cancel",anim:false,mode:"popup"};jQuery.event.special.destroyed={remove:function(D){if(D.handler){D.handler()}}}}(window.jQuery));(function(A){A.extend(A.fn.editableContainer.Inline.prototype,A.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=A("<span></span>");if(!this.options.anim){this.options.anim=0}},splitOptions:function(){this.containerOptions={};this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide();this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,A.proxy(function(){this.$element.show();this.innerDestroy()},this))},innerDestroy:function(){if(this.tip()){this.tip().empty().remove()}}})}(window.jQuery));(function(B){var A=function(D,C){this.$element=B(D);this.options=B.extend({},B.fn.editable.defaults,C,B.fn.editableutils.getConfigData(this.$element));if(this.options.selector){this.initLive()}else{this.init()}if(this.options.highlight&&!B.fn.editableutils.supportsTransitions()){this.options.highlight=false}};A.prototype={constructor:A,init:function(){var D=false,C,E;this.options.name=this.options.name||this.$element.attr("id");this.options.scope=this.$element[0];this.input=B.fn.editableutils.createInput(this.options);if(!this.input){return}if(this.options.value===undefined||this.options.value===null){this.value=this.input.html2value(B.trim(this.$element.html()));D=true}else{this.options.value=B.fn.editableutils.tryParseJson(this.options.value,true);if(typeof this.options.value==="string"){this.value=this.input.str2value(this.options.value)}else{this.value=this.options.value}}this.$element.addClass("editable");if(this.input.type==="textarea"){this.$element.addClass("editable-pre-wrapped")}if(this.options.toggle!=="manual"){this.$element.addClass("editable-click");this.$element.on(this.options.toggle+".editable",B.proxy(function(F){if(!this.options.disabled){F.preventDefault()}if(this.options.toggle==="mouseenter"){this.show()}else{var G=(this.options.toggle!=="click");this.toggle(G)}},this))}else{this.$element.attr("tabindex",-1)}if(typeof this.options.display==="function"){this.options.autotext="always"}switch(this.options.autotext){case"always":C=true;break;case"auto":C=!B.trim(this.$element.text()).length&&this.value!==null&&this.value!==undefined&&!D;break;default:C=false}B.when(C?this.render():true).then(B.proxy(function(){if(this.options.disabled){this.disable()}else{this.enable()}this.$element.triggerHandler("init",this)},this))},initLive:function(){var C=this.options.selector;this.options.selector=false;this.options.autotext="never";this.$element.on(this.options.toggle+".editable",C,B.proxy(function(D){var E=B(D.target);if(!E.data("editable")){if(E.hasClass(this.options.emptyclass)){E.empty()}E.editable(this.options).trigger(D)}},this))},render:function(C){if(this.options.display===false){return}if(this.input.value2htmlFinal){return this.input.value2html(this.value,this.$element[0],this.options.display,C)}else{if(typeof this.options.display==="function"){return this.options.display.call(this.$element[0],this.value,C)}else{return this.input.value2html(this.value,this.$element[0])}}},enable:function(){this.options.disabled=false;this.$element.removeClass("editable-disabled");this.handleEmpty(this.isEmpty);if(this.options.toggle!=="manual"){if(this.$element.attr("tabindex")==="-1"){this.$element.removeAttr("tabindex")}}},disable:function(){this.options.disabled=true;this.hide();this.$element.addClass("editable-disabled");this.handleEmpty(this.isEmpty);this.$element.attr("tabindex",-1)},toggleDisabled:function(){if(this.options.disabled){this.enable()}else{this.disable()}},option:function(C,D){if(C&&typeof C==="object"){B.each(C,B.proxy(function(F,E){this.option(B.trim(F),E)},this));return}this.options[C]=D;if(C==="disabled"){return D?this.disable():this.enable()}if(C==="value"){this.setValue(D)}if(this.container){this.container.option(C,D)}if(this.input.option){this.input.option(C,D)}},handleEmpty:function(C){if(this.options.display===false){return}if(C!==undefined){this.isEmpty=C}else{if(B.trim(this.$element.html())===""){this.isEmpty=true}else{if(B.trim(this.$element.text())!==""){this.isEmpty=false}else{this.isEmpty=!this.$element.height()||!this.$element.width()}}}if(!this.options.disabled){if(this.isEmpty){this.$element.html(this.options.emptytext);if(this.options.emptyclass){this.$element.addClass(this.options.emptyclass)}}else{if(this.options.emptyclass){this.$element.removeClass(this.options.emptyclass)}}}else{if(this.isEmpty){this.$element.empty();if(this.options.emptyclass){this.$element.removeClass(this.options.emptyclass)}}}},show:function(C){if(this.options.disabled){return}if(!this.container){var D=B.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(D);this.$element.on("save.internal",B.proxy(this.save,this));this.container=this.$element.data("editableContainer")}else{if(this.container.tip().is(":visible")){return}}this.container.show(C)},hide:function(){if(this.container){this.container.hide()}},toggle:function(C){if(this.container&&this.container.tip().is(":visible")){this.hide()}else{this.show(C)}},save:function(D,F){if(this.options.unsavedclass){var C=false;C=C||typeof this.options.url==="function";C=C||this.options.display===false;C=C||F.response!==undefined;C=C||(this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(F.newValue));if(C){this.$element.removeClass(this.options.unsavedclass)}else{this.$element.addClass(this.options.unsavedclass)}}if(this.options.highlight){var G=this.$element,E=G.css("background-color");G.css("background-color",this.options.highlight);setTimeout(function(){if(E==="transparent"){E=""}G.css("background-color",E);G.addClass("editable-bg-transition");setTimeout(function(){G.removeClass("editable-bg-transition")},1700)},10)}this.setValue(F.newValue,false,F.response)},validate:function(){if(typeof this.options.validate==="function"){return this.options.validate.call(this,this.value)}},setValue:function(C,E,D){if(E){this.value=this.input.str2value(C)}else{this.value=C}if(this.container){this.container.option("value",this.value)}B.when(this.render(D)).then(B.proxy(function(){this.handleEmpty()},this))},activate:function(){if(this.container){this.container.activate()}},destroy:function(){this.disable();if(this.container){this.container.destroy()}this.input.destroy();if(this.options.toggle!=="manual"){this.$element.removeClass("editable-click");this.$element.off(this.options.toggle+".editable")}this.$element.off("save.internal");this.$element.removeClass("editable editable-open editable-disabled");this.$element.removeData("editable")}};B.fn.editable=function(H){var E={},D=arguments,J="editable";switch(H){case"validate":this.each(function(){var K=B(this),M=K.data(J),L;if(M&&(L=M.validate())){E[M.options.name]=L}});return E;case"getValue":if(arguments.length===2&&arguments[1]===true){E=this.eq(0).data(J).value}else{this.each(function(){var K=B(this),L=K.data(J);if(L&&L.value!==undefined&&L.value!==null){E[L.options.name]=L.input.value2submit(L.value)}})}return E;case"submit":var C=arguments[1]||{},G=this,I=this.editable("validate"),F;if(B.isEmptyObject(I)){F=this.editable("getValue");if(C.data){B.extend(F,C.data)}B.ajax(B.extend({url:C.url,data:F,type:"POST"},C.ajaxOptions)).success(function(K){if(typeof C.success==="function"){C.success.call(G,K,C)}}).error(function(){if(typeof C.error==="function"){C.error.apply(G,arguments)}})}else{if(typeof C.error==="function"){C.error.call(G,I)}}return this}return this.each(function(){var K=B(this),M=K.data(J),L=typeof H==="object"&&H;if(L&&L.selector){M=new A(this,L);return}if(!M){K.data(J,(M=new A(this,L)))}if(typeof H==="string"){M[H].apply(M,Array.prototype.slice.call(D,1))}})};B.fn.editable.defaults={type:"text",disabled:false,toggle:"click",emptytext:"还未写任务报告",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery));(function(B){B.fn.editabletypes={};var A=function(){};A.prototype={init:function(C,D,E){this.type=C;this.options=B.extend({},E,D)},prerender:function(){this.$tpl=B(this.options.tpl);this.$input=this.$tpl;this.$clear=null;this.error=null},render:function(){},value2html:function(C,D){B(D).text(B.trim(C))},html2value:function(C){return B("<div>").html(C).text()},value2str:function(C){return C},str2value:function(C){return C},value2submit:function(C){return C},value2input:function(C){this.$input.val(C)},input2value:function(){return this.$input.val()},activate:function(){if(this.$input.is(":visible")){this.$input.focus()}},clear:function(){this.$input.val(null)},escape:function(C){return B("<div>").text(C).html()},autosubmit:function(){},destroy:function(){},setClass:function(){if(this.options.inputclass){this.$input.addClass(this.options.inputclass)}},setAttr:function(C){if(this.options[C]!==undefined&&this.options[C]!==null){this.$input.attr(C,this.options[C])}},option:function(C,D){this.options[C]=D}};A.defaults={tpl:"",inputclass:"input-medium",scope:null,showbuttons:true};B.extend(B.fn.editabletypes,{abstractinput:A})}(window.jQuery));(function(B){var A=function(C){};B.fn.editableutils.inherit(A,B.fn.editabletypes.abstractinput);B.extend(A.prototype,{render:function(){var C=B.Deferred();this.error=null;this.onSourceReady(function(){this.renderList();C.resolve()},function(){this.error=this.options.sourceError;C.resolve()});return C.promise()},html2value:function(C){return null},value2html:function(F,G,D,H){var E=B.Deferred(),C=function(){if(typeof D==="function"){D.call(G,F,this.sourceData,H)}else{this.value2htmlFinal(F,G)}E.resolve()};if(F===null){C.call(this)}else{this.onSourceReady(C,function(){E.resolve()})}return E.promise()},onSourceReady:function(C,H){var F;if(B.isFunction(this.options.source)){F=this.options.source.call(this.options.scope);this.sourceData=null}else{F=this.options.source}if(this.options.sourceCache&&B.isArray(this.sourceData)){C.call(this);return}try{F=B.fn.editableutils.tryParseJson(F,false)}catch(E){H.call(this);return}if(typeof F==="string"){if(this.options.sourceCache){var G=F,D;if(!B(document).data(G)){B(document).data(G,{})}D=B(document).data(G);if(D.loading===false&&D.sourceData){this.sourceData=D.sourceData;this.doPrepend();C.call(this);return}else{if(D.loading===true){D.callbacks.push(B.proxy(function(){this.sourceData=D.sourceData;this.doPrepend();C.call(this)},this));D.err_callbacks.push(B.proxy(H,this));return}else{D.loading=true;D.callbacks=[];D.err_callbacks=[]}}}B.ajax({url:F,type:"get",cache:false,dataType:"json",success:B.proxy(function(I){if(D){D.loading=false}this.sourceData=this.makeArray(I);if(B.isArray(this.sourceData)){if(D){D.sourceData=this.sourceData;B.each(D.callbacks,function(){this.call()})}this.doPrepend();C.call(this)}else{H.call(this);if(D){B.each(D.err_callbacks,function(){this.call()})}}},this),error:B.proxy(function(){H.call(this);if(D){D.loading=false;B.each(D.err_callbacks,function(){this.call()})}},this)})}else{this.sourceData=this.makeArray(F);if(B.isArray(this.sourceData)){this.doPrepend();C.call(this)}else{H.call(this)}}},doPrepend:function(){if(this.options.prepend===null||this.options.prepend===undefined){return}if(!B.isArray(this.prependData)){if(B.isFunction(this.options.prepend)){this.options.prepend=this.options.prepend.call(this.options.scope)}this.options.prepend=B.fn.editableutils.tryParseJson(this.options.prepend,true);if(typeof this.options.prepend==="string"){this.options.prepend={"":this.options.prepend}}this.prependData=this.makeArray(this.options.prepend)}if(B.isArray(this.prependData)&&B.isArray(this.sourceData)){this.sourceData=this.prependData.concat(this.sourceData)}},renderList:function(){},value2htmlFinal:function(C,D){},makeArray:function(I){var D,F,E=[],G,H;if(!I||typeof I==="string"){return null}if(B.isArray(I)){H=function(K,J){F={value:K,text:J};if(D++>=2){return false}};for(var C=0;C<I.length;C++){G=I[C];if(typeof G==="object"){D=0;B.each(G,H);if(D===1){E.push(F)}else{if(D>1){if(G.children){G.children=this.makeArray(G.children)}E.push(G)}}}else{E.push({value:G,text:G})}}}else{B.each(I,function(K,J){E.push({value:K,text:J})})}return E},option:function(C,D){this.options[C]=D;if(C==="source"){this.sourceData=null}if(C==="prepend"){this.prependData=null}}});A.defaults=B.extend({},B.fn.editabletypes.abstractinput.defaults,{source:null,prepend:false,sourceError:"Error when loading list",sourceCache:true});B.fn.editabletypes.list=A}(window.jQuery));(function(B){var A=function(C){this.init("text",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.abstractinput);B.extend(A.prototype,{render:function(){this.renderClear();this.setClass();this.setAttr("placeholder")},activate:function(){if(this.$input.is(":visible")){this.$input.focus();B.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length);if(this.toggleClear){this.toggleClear()}}},renderClear:function(){if(this.options.clear){this.$clear=B('<span class="editable-clear-x"></span>');this.$input.after(this.$clear).css("padding-right",24).keyup(B.proxy(function(C){if(~B.inArray(C.keyCode,[40,38,9,13,27])){return}clearTimeout(this.t);var D=this;this.t=setTimeout(function(){D.toggleClear(C)},100)},this)).parent().css("position","relative");this.$clear.click(B.proxy(this.clear,this))}},postrender:function(){},toggleClear:function(C){if(!this.$clear){return}var E=this.$input.val().length,D=this.$clear.is(":visible");if(E&&!D){this.$clear.show()}if(!E&&D){this.$clear.hide()}},clear:function(){this.$clear.hide();this.$input.val("").focus()}});A.defaults=B.extend({},B.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:true});B.fn.editabletypes.text=A}(window.jQuery));(function(B){var A=function(C){this.init("textarea",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.abstractinput);B.extend(A.prototype,{render:function(){this.setClass();this.setAttr("placeholder");this.setAttr("rows");this.$input.keydown(function(C){if(C.ctrlKey&&C.which===13){B(this).closest("form").submit()}})},activate:function(){B.fn.editabletypes.text.prototype.activate.call(this)}});A.defaults=B.extend({},B.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7});B.fn.editabletypes.textarea=A}(window.jQuery));(function(B){var A=function(C){this.init("select",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.list);B.extend(A.prototype,{renderList:function(){this.$input.empty();var C=function(F,G){var E;if(B.isArray(G)){for(var D=0;D<G.length;D++){E={};if(G[D].children){E.label=G[D].text;F.append(C(B("<optgroup>",E),G[D].children))}else{E.value=G[D].value;if(G[D].disabled){E.disabled=true}F.append(B("<option>",E).text(G[D].text))}}}return F};C(this.$input,this.sourceData);this.setClass();this.$input.on("keydown.editable",function(D){if(D.which===13){B(this).closest("form").submit()}})},value2htmlFinal:function(E,F){var D="",C=B.fn.editableutils.itemsByValue(E,this.sourceData);if(C.length){D=C[0].text}B(F).text(D)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){B(this).closest("form").submit()})}});A.defaults=B.extend({},B.fn.editabletypes.list.defaults,{tpl:'<select class="form-control"></select>'});B.fn.editabletypes.select=A}(window.jQuery));(function(B){var A=function(C){this.init("checklist",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.list);B.extend(A.prototype,{renderList:function(){var E,D;this.$tpl.empty();if(!B.isArray(this.sourceData)){return}for(var C=0;C<this.sourceData.length;C++){E=B("<label>").append(B("<input>",{type:"checkbox",value:this.sourceData[C].value})).append(B("<span>").text(" "+this.sourceData[C].text));B("<div>").append(E).appendTo(this.$tpl)}this.$input=this.$tpl.find('input[type="checkbox"]');this.setClass()},value2str:function(C){return B.isArray(C)?C.sort().join(B.trim(this.options.separator)):""},str2value:function(D){var C,E=null;if(typeof D==="string"&&D.length){C=new RegExp("\\s*"+B.trim(this.options.separator)+"\\s*");E=D.split(C)}else{if(B.isArray(D)){E=D}else{E=[D]}}return E},value2input:function(C){this.$input.prop("checked",false);if(B.isArray(C)&&C.length){this.$input.each(function(E,D){var F=B(D);B.each(C,function(H,G){if(F.val()==G){F.prop("checked",true)}})})}},input2value:function(){var C=[];this.$input.filter(":checked").each(function(E,D){C.push(B(D).val())});return C},value2htmlFinal:function(E,F){var C=[],D=B.fn.editableutils.itemsByValue(E,this.sourceData);if(D.length){B.each(D,function(G,H){C.push(B.fn.editableutils.escape(H.text))});B(F).html(C.join("<br>"))}else{B(F).empty()}},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(C){if(C.which===13){B(this).closest("form").submit()}})}});A.defaults=B.extend({},B.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","});B.fn.editabletypes.checklist=A}(window.jQuery));(function(B){var A=function(C){this.init("password",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.text);B.extend(A.prototype,{value2html:function(C,D){if(C){B(D).text("[hidden]")}else{B(D).empty()}},html2value:function(C){return null}});A.defaults=B.extend({},B.fn.editabletypes.text.defaults,{tpl:'<input type="password">'});B.fn.editabletypes.password=A}(window.jQuery));(function(B){var A=function(C){this.init("email",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.text);A.defaults=B.extend({},B.fn.editabletypes.text.defaults,{tpl:'<input type="email">'});B.fn.editabletypes.email=A}(window.jQuery));(function(B){var A=function(C){this.init("url",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.text);A.defaults=B.extend({},B.fn.editabletypes.text.defaults,{tpl:'<input type="url">'});B.fn.editabletypes.url=A}(window.jQuery));(function(B){var A=function(C){this.init("tel",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.text);A.defaults=B.extend({},B.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'});B.fn.editabletypes.tel=A}(window.jQuery));(function(B){var A=function(C){this.init("number",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.text);B.extend(A.prototype,{render:function(){A.superclass.render.call(this);this.setAttr("min");this.setAttr("max");this.setAttr("step")},postrender:function(){if(this.$clear){this.$clear.css({right:24})}}});A.defaults=B.extend({},B.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"form-control input-small",min:null,max:null,step:null});B.fn.editabletypes.number=A}(window.jQuery));(function(B){var A=function(C){this.init("range",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.number);B.extend(A.prototype,{render:function(){this.$input=this.$tpl.filter("input");this.setClass();this.setAttr("min");this.setAttr("max");this.setAttr("step");this.$input.on("input",function(){B(this).siblings("output").text(B(this).val())})},activate:function(){this.$input.focus()}});A.defaults=B.extend({},B.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"form-control input-medium"});B.fn.editabletypes.range=A}(window.jQuery));(function(B){var A=function(C){this.init("time",C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.abstractinput);B.extend(A.prototype,{render:function(){this.setClass()}});A.defaults=B.extend({},B.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'});B.fn.editabletypes.time=A}(window.jQuery));(function(B){var A=function(D){this.init("select2",D,A.defaults);D.select2=D.select2||{};this.sourceData=null;if(D.placeholder){D.select2.placeholder=D.placeholder}if(!D.select2.tags&&D.source){var C=D.source;if(B.isFunction(D.source)){C=D.source.call(D.scope)}if(typeof C==="string"){D.select2.ajax=D.select2.ajax||{};if(!D.select2.ajax.data){D.select2.ajax.data=function(F){return{query:F}}}if(!D.select2.ajax.results){D.select2.ajax.results=function(F){return{results:F}}}D.select2.ajax.url=C}else{this.sourceData=this.convertSource(C);D.select2.data=this.sourceData}}this.options.select2=B.extend({},A.defaults.select2,D.select2);this.isMultiple=this.options.select2.tags||this.options.select2.multiple;this.isRemote=("ajax" in this.options.select2);this.idFunc=this.options.select2.id;if(typeof(this.idFunc)!=="function"){var E=this.idFunc||"id";this.idFunc=function(F){return F[E]}}this.formatSelection=this.options.select2.formatSelection;if(typeof(this.formatSelection)!=="function"){this.formatSelection=function(F){return F.text}}};B.fn.editableutils.inherit(A,B.fn.editabletypes.abstractinput);B.extend(A.prototype,{render:function(){this.setClass();this.$input.select2(this.options.select2);if(this.isRemote){this.$input.on("select2-loaded",B.proxy(function(C){this.sourceData=C.items.results},this))}if(this.isMultiple){this.$input.on("change",function(){B(this).closest("form").parent().triggerHandler("resize")})}},value2html:function(E,F){var D="",G,C=this;if(this.options.select2.tags){G=E}else{if(this.sourceData){G=B.fn.editableutils.itemsByValue(E,this.sourceData,this.idFunc)}else{}}if(B.isArray(G)){D=[];B.each(G,function(I,H){D.push(H&&typeof H==="object"?C.formatSelection(H):H)})}else{if(G){D=C.formatSelection(G)}}D=B.isArray(D)?D.join(this.options.viewseparator):D;B(F).text(D)},html2value:function(C){return this.options.select2.tags?this.str2value(C,this.options.viewseparator):null},value2input:function(D){this.$input.val(D).trigger("change",true);if(this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var C=this.options.select2.id,E=this.options.select2.formatSelection;if(!C&&!E){var F={id:D,text:B(this.options.scope).text()};this.$input.select2("data",F)}}},input2value:function(){return this.$input.select2("val")},str2value:function(F,C){if(typeof F!=="string"||!this.isMultiple){return F}C=C||this.options.select2.separator||B.fn.select2.defaults.separator;var G,D,E;if(F===null||F.length<1){return null}G=F.split(C);for(D=0,E=G.length;D<E;D=D+1){G[D]=B.trim(G[D])}return G},autosubmit:function(){this.$input.on("change",function(D,C){if(!C){B(this).closest("form").submit()}})},convertSource:function(D){if(B.isArray(D)&&D.length&&D[0].value!==undefined){for(var C=0;C<D.length;C++){if(D[C].value!==undefined){D[C].id=D[C].value;delete D[C].value}}}return D},destroy:function(){if(this.$input.data("select2")){this.$input.select2("destroy")}}});A.defaults=B.extend({},B.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "});B.fn.editabletypes.select2=A}(window.jQuery));(function(B){var A=function(D,C){this.$element=B(D);if(!this.$element.is("input")){B.error("Combodate should be applied to INPUT element");return}this.options=B.extend({},B.fn.combodate.defaults,C,this.$element.data());this.init()};A.prototype={constructor:A,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]};this.$widget=B('<span class="combodate"></span>').html(this.getTemplate());this.initCombos();this.$widget.on("change","select",B.proxy(function(){this.$element.val(this.getValue())},this));this.$widget.find("select").css("width","auto");this.$element.hide().after(this.$widget);this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var C=this.options.template;B.each(this.map,function(G,E){E=E[0];var D=new RegExp(E+"+"),F=E.length>1?E.substring(1,2):E;C=C.replace(D,"{"+F+"}")});C=C.replace(/ /g,"&nbsp;");B.each(this.map,function(F,E){E=E[0];var D=E.length>1?E.substring(1,2):E;C=C.replace("{"+D+"}",'<select class="form-control '+F+'"></select>')});return C},initCombos:function(){var C=this;B.each(this.map,function(H,F){var D=C.$widget.find("."+H),E,G;if(D.length){C["$"+H]=D;E="fill"+H.charAt(0).toUpperCase()+H.slice(1);G=C[E]();C["$"+H].html(C.renderItems(G))}})},initItems:function(C){var F=[],E;if(this.options.firstItem==="name"){E=moment.relativeTime||moment.langData()._relativeTime;var D=typeof E[C]==="function"?E[C](1,true,C,false):E[C];D=D.split(" ").reverse()[0];F.push(["",D])}else{if(this.options.firstItem==="empty"){F.push(["",""])}}return F},renderItems:function(E){var D=[];for(var C=0;C<E.length;C++){D.push('<option value="'+E[C][0]+'">'+E[C][1]+"</option>")}return D.join("\n")},fillDay:function(){var E=this.initItems("d"),D,C,F=this.options.template.indexOf("DD")!==-1;for(C=1;C<=31;C++){D=F?this.leadZero(C):C;E.push([C,D])}return E},fillMonth:function(){var G=this.initItems("M"),E,C,F=this.options.template.indexOf("MMMM")!==-1,D=this.options.template.indexOf("MMM")!==-1,H=this.options.template.indexOf("MM")!==-1;for(C=0;C<=11;C++){if(F){E=moment().date(1).month(C).format("MMMM")}else{if(D){E=moment().date(1).month(C).format("MMM")}else{if(H){E=this.leadZero(C+1)}else{E=C+1}}}G.push([C,E])}return G},fillYear:function(){var F=[],D,C,E=this.options.template.indexOf("YYYY")!==-1;for(C=this.options.maxYear;C>=this.options.minYear;C--){D=E?C:(C+"").substring(2);F[this.options.yearDescending?"push":"unshift"]([C,D])}F=this.initItems("y").concat(F);return F},fillHour:function(){var J=this.initItems("h"),I,F,H=this.options.template.indexOf("h")!==-1,C=this.options.template.indexOf("H")!==-1,G=this.options.template.toLowerCase().indexOf("hh")!==-1,D=H?1:0,E=H?12:23;for(F=D;F<=E;F++){I=G?this.leadZero(F):F;J.push([F,I])}return J},fillMinute:function(){var E=this.initItems("m"),D,C,F=this.options.template.indexOf("mm")!==-1;for(C=0;C<=59;C+=this.options.minuteStep){D=F?this.leadZero(C):C;E.push([C,D])}return E},fillSecond:function(){var E=this.initItems("s"),D,C,F=this.options.template.indexOf("ss")!==-1;for(C=0;C<=59;C+=this.options.secondStep){D=F?this.leadZero(C):C;E.push([C,D])}return E},fillAmpm:function(){var C=this.options.template.indexOf("a")!==-1,D=this.options.template.indexOf("A")!==-1,E=[["am",C?"am":"AM"],["pm",C?"pm":"PM"]];return E},getValue:function(D){var C,G={},E=this,F=false;B.each(this.map,function(J,H){if(J==="ampm"){return}var I=J==="day"?1:0;G[J]=E["$"+J]?parseInt(E["$"+J].val(),10):I;if(isNaN(G[J])){F=true;return false}});if(F){return""}if(this.$ampm){if(G.hour===12){G.hour=this.$ampm.val()==="am"?0:12}else{G.hour=this.$ampm.val()==="am"?G.hour:G.hour+12}}C=moment([G.year,G.month,G.day,G.hour,G.minute,G.second]);this.highlight(C);D=D===undefined?this.options.format:D;if(D===null){return C.isValid()?C:null}else{return C.isValid()?C.format(D):""}},setValue:function(F){if(!F){return}var C=typeof F==="string"?moment(F,this.options.format):moment(F),D=this,G={};function E(J,H){var I={};J.children("option").each(function(K,L){var M=B(L).attr("value"),N;if(M===""){return}N=Math.abs(M-H);if(typeof I.distance==="undefined"||N<I.distance){I={value:M,distance:N}}});return I.value}if(C.isValid()){B.each(this.map,function(I,H){if(I==="ampm"){return}G[I]=C[H[1]]()});if(this.$ampm){if(G.hour>=12){G.ampm="pm";if(G.hour>12){G.hour-=12}}else{G.ampm="am";if(G.hour===0){G.hour=12}}}B.each(G,function(I,H){if(D["$"+I]){if(I==="minute"&&D.options.minuteStep>1&&D.options.roundTime){H=E(D["$"+I],H)}if(I==="second"&&D.options.secondStep>1&&D.options.roundTime){H=E(D["$"+I],H)}D["$"+I].val(H)}});this.$element.val(C.format(this.options.format))}},highlight:function(C){if(!C.isValid()){if(this.options.errorClass){this.$widget.addClass(this.options.errorClass)}else{if(!this.borderColor){this.borderColor=this.$widget.find("select").css("border-color")}this.$widget.find("select").css("border-color","red")}}else{if(this.options.errorClass){this.$widget.removeClass(this.options.errorClass)}else{this.$widget.find("select").css("border-color",this.borderColor)}}},leadZero:function(C){return C<=9?"0"+C:C},destroy:function(){this.$widget.remove();this.$element.removeData("combodate").show()}};B.fn.combodate=function(C){var D,E=Array.apply(null,arguments);E.shift();if(C==="getValue"&&this.length&&(D=this.eq(0).data("combodate"))){return D.getValue.apply(D,E)}return this.each(function(){var F=B(this),H=F.data("combodate"),G=typeof C=="object"&&C;if(!H){F.data("combodate",(H=new A(this,G)))}if(typeof C=="string"&&typeof H[C]=="function"){H[C].apply(H,E)}})};B.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:true,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:"has-error",roundTime:true}}(window.jQuery));(function(B){var A=function(C){this.init("combodate",C,A.defaults);if(!this.options.viewformat){this.options.viewformat=this.options.format}C.combodate=B.fn.editableutils.tryParseJson(C.combodate,true);this.options.combodate=B.extend({},A.defaults.combodate,C.combodate,{format:this.options.format,template:this.options.template})};B.fn.editableutils.inherit(A,B.fn.editabletypes.abstractinput);B.extend(A.prototype,{render:function(){this.$input.combodate(this.options.combodate)},value2html:function(D,E){var C=D?D.format(this.options.viewformat):"";B(E).text(C)},html2value:function(C){return C?moment(C,this.options.viewformat):null},value2str:function(C){return C?C.format(this.options.format):""},str2value:function(C){return C?moment(C,this.options.format):null},value2submit:function(C){return this.value2str(C)},value2input:function(C){this.$input.combodate("setValue",C)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}});A.defaults=B.extend({},B.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text" class="form-control">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null});B.fn.editabletypes.combodate=A}(window.jQuery));(function(A){A.extend(A.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=A(A.fn.editableform.template);this.$form.find(".editable-error-block").addClass("help-block")}});A.fn.editableform.buttons='<button type="submit" class="btn blue editable-submit"><i class="fa fa-check"></i></button><button type="button" class="btn default editable-cancel"><i class="fa fa-times"></i></button>';A.fn.editableform.errorGroupClass="has-error";A.fn.editableform.errorBlockClass=null}(window.jQuery));(function(A){A.fn.popover.defaults=A.fn.popover.Constructor.DEFAULTS;A.extend(A.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:A.fn.popover&&A(A.fn.popover.defaults.template).find("p").length?".popover-content p":".popover-content",initContainer:function(){A.extend(this.containerOptions,{trigger:"manual",selector:false,content:" ",template:A.fn.popover.defaults.template});var B;if(this.$element.data("template")){B=this.$element.data("template");this.$element.removeData("template")}this.call(this.containerOptions);if(B){this.$element.data("template",B)}},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(B,C){this.container().options[B]=C},setPosition:function(){(function(){var G=this.tip(),I,F,H,B,E,D,K,C,J,L;E=typeof this.options.placement==="function"?this.options.placement.call(this,G[0],this.$element[0]):this.options.placement;I=/in/.test(E);G.removeClass("top right bottom left").css({top:0,left:0,display:"block"});F=this.getPosition(I);H=G[0].offsetWidth;B=G[0].offsetHeight;E=I?E.split(" ")[1]:E;C={top:F.top+F.height,left:F.left+F.width/2-H/2};K={top:F.top-B,left:F.left+F.width/2-H/2};J={top:F.top+F.height/2-B/2,left:F.left-H};L={top:F.top+F.height/2-B/2,left:F.left+F.width};switch(E){case"bottom":if((C.top+B)>(A(window).scrollTop()+A(window).height())){if(K.top>A(window).scrollTop()){E="top"}else{if((L.left+H)<(A(window).scrollLeft()+A(window).width())){E="right"}else{if(J.left>A(window).scrollLeft()){E="left"}else{E="right"}}}}break;case"top":if(K.top<A(window).scrollTop()){if((C.top+B)<(A(window).scrollTop()+A(window).height())){E="bottom"}else{if((L.left+H)<(A(window).scrollLeft()+A(window).width())){E="right"}else{if(J.left>A(window).scrollLeft()){E="left"}else{E="right"}}}}break;case"left":if(J.left<A(window).scrollLeft()){if((L.left+H)<(A(window).scrollLeft()+A(window).width())){E="right"}else{if(K.top>A(window).scrollTop()){E="top"}else{if(K.top>A(window).scrollTop()){E="bottom"}else{E="right"}}}}break;case"right":if((L.left+H)>(A(window).scrollLeft()+A(window).width())){if(J.left>A(window).scrollLeft()){E="left"}else{if(K.top>A(window).scrollTop()){E="top"}else{if(K.top>A(window).scrollTop()){E="bottom"}}}}break}switch(E){case"bottom":D=C;break;case"top":D=K;break;case"left":D=J;break;case"right":D=L;break}G.offset(D).addClass(E).addClass("in")}).call(this.container())}})}(window.jQuery));(function(K){function A(){return new Date(Date.UTC.apply(Date,arguments))}function I(){var N=new Date();return A(N.getUTCFullYear(),N.getUTCMonth(),N.getUTCDate())}var F=function(P,O){var N=this;this._process_options(O);this.element=K(P);this.isInline=false;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):false;this.hasInput=this.component&&this.element.find("input").length;if(this.component&&this.component.length===0){this.component=false}this.picker=K(G.template);this._buildEvents();this._attachEvents();if(this.isInline){this.picker.addClass("datepicker-inline").appendTo(this.element)}else{this.picker.addClass("datepicker-dropdown dropdown-menu")}if(this.o.rtl){this.picker.addClass("datepicker-rtl");this.picker.find(".prev i, .next i").toggleClass("fa-angle-left fa-angle-right")}this.viewMode=this.o.startView;if(this.o.calendarWeeks){this.picker.find("tfoot th.today").attr("colspan",function(Q,R){return parseInt(R)+1})}this._allow_update=false;this.setStartDate(this.o.startDate);this.setEndDate(this.o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=true;this.update();this.showMode();if(this.isInline){this.show()}};F.prototype={constructor:F,_process_options:function(O){this._o=K.extend({},this._o,O);var P=this.o=K.extend({},this._o);var Q=P.language;if(!H[Q]){Q=Q.split("-")[0];if(!H[Q]){Q=D.language}}P.language=Q;switch(P.startView){case 2:case"decade":P.startView=2;break;case 1:case"year":P.startView=1;break;default:P.startView=0}switch(P.minViewMode){case 1:case"months":P.minViewMode=1;break;case 2:case"years":P.minViewMode=2;break;default:P.minViewMode=0}P.startView=Math.max(P.startView,P.minViewMode);P.weekStart%=7;P.weekEnd=((P.weekStart+6)%7);var N=G.parseFormat(P.format);if(P.startDate!==-Infinity){P.startDate=G.parseDate(P.startDate,N,P.language)}if(P.endDate!==Infinity){P.endDate=G.parseDate(P.endDate,N,P.language)}P.daysOfWeekDisabled=P.daysOfWeekDisabled||[];if(!K.isArray(P.daysOfWeekDisabled)){P.daysOfWeekDisabled=P.daysOfWeekDisabled.split(/[,\s]*/)}P.daysOfWeekDisabled=K.map(P.daysOfWeekDisabled,function(R){return parseInt(R,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(P){for(var O=0,N,Q;O<P.length;O++){N=P[O][0];Q=P[O][1];N.on(Q)}},_unapplyEvents:function(P){for(var O=0,N,Q;O<P.length;O++){N=P[O][0];Q=P[O][1];N.off(Q)}},_buildEvents:function(){if(this.isInput){this._events=[[this.element,{focus:K.proxy(this.show,this),keyup:K.proxy(this.update,this),keydown:K.proxy(this.keydown,this)}]]}else{if(this.component&&this.hasInput){this._events=[[this.element.find("input"),{focus:K.proxy(this.show,this),keyup:K.proxy(this.update,this),keydown:K.proxy(this.keydown,this)}],[this.component,{click:K.proxy(this.show,this)}]]}else{if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:K.proxy(this.show,this)}]]}}}this._secondaryEvents=[[this.picker,{click:K.proxy(this.click,this)}],[K(window),{resize:K.proxy(this.place,this)}],[K(document),{mousedown:K.proxy(function(N){if(!(this.element.is(N.target)||this.element.find(N.target).size()||this.picker.is(N.target)||this.picker.find(N.target).size())){this.hide()}},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(N,O){var Q=O||this.date,P=new Date(Q.getTime()+(Q.getTimezoneOffset()*60000));this.element.trigger({type:N,date:P,format:K.proxy(function(S){var R=S||this.o.format;return G.formatDate(Q,R,this.o.language)},this)})},show:function(N){if(!this.isInline){this.picker.appendTo("body")}this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();this._attachSecondaryEvents();if(N){N.preventDefault()}this._trigger("show")},hide:function(N){if(this.isInline){return}if(!this.picker.is(":visible")){return}this.picker.hide().detach();this._detachSecondaryEvents();this.viewMode=this.o.startView;this.showMode();if(this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())){this.setValue()}this._trigger("hide")},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;if(!this.isInput){delete this.element.data().date}},getDate:function(){var N=this.getUTCDate();return new Date(N.getTime()+(N.getTimezoneOffset()*60000))},getUTCDate:function(){return this.date},setDate:function(N){this.setUTCDate(new Date(N.getTime()-(N.getTimezoneOffset()*60000)))},setUTCDate:function(N){this.date=N;this.setValue()},setValue:function(){var N=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find("input").val(N)}}else{this.element.val(N)}},getFormattedDate:function(N){if(N===undefined){N=this.o.format}return G.formatDate(this.date,N,this.o.language)},setStartDate:function(N){this._process_options({startDate:N});this.update();this.updateNavArrows()},setEndDate:function(N){this._process_options({endDate:N});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(N){this._process_options({daysOfWeekDisabled:N});this.update();this.updateNavArrows()},place:function(){if(this.isInline){return}var O=parseInt(this.element.parents().filter(function(){return K(this).css("z-index")!="auto"}).first().css("z-index"))+10;var N=this.component?this.component.parent().offset():this.element.offset();var P=this.component?this.component.outerHeight(true):this.element.outerHeight(true);this.picker.css({top:N.top+P,left:N.left,zIndex:O})},_allow_update:true,update:function(){if(!this._allow_update){return}var O,N=false;if(arguments&&arguments.length&&(typeof arguments[0]==="string"||arguments[0] instanceof Date)){O=arguments[0];N=true}else{O=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val();delete this.element.data().date}this.date=G.parseDate(O,this.o.format,this.o.language);if(N){this.setValue()}if(this.date<this.o.startDate){this.viewDate=new Date(this.o.startDate)}else{if(this.date>this.o.endDate){this.viewDate=new Date(this.o.endDate)}else{this.viewDate=new Date(this.date)}}this.fill()},fillDow:function(){var P=this.o.weekStart,N="<tr>";if(this.o.calendarWeeks){var O='<th class="cw">&nbsp;</th>';N+=O;this.picker.find(".datepicker-days thead tr:first-child").prepend(O)}while(P<this.o.weekStart+7){N+='<th class="dow">'+H[this.o.language].daysMin[(P++)%7]+"</th>"}N+="</tr>";this.picker.find(".datepicker-days thead").append(N)},fillMonths:function(){var N="",O=0;while(O<12){N+='<span class="month">'+H[this.o.language].monthsShort[O++]+"</span>"}this.picker.find(".datepicker-months td").html(N)},setRange:function(N){if(!N||!N.length){delete this.range}else{this.range=K.map(N,function(O){return O.valueOf()})}this.fill()},getClassNames:function(S){var P=[],R=this.viewDate.getUTCFullYear(),O=this.viewDate.getUTCMonth(),N=this.date.valueOf(),Q=new Date();if(S.getUTCFullYear()<R||(S.getUTCFullYear()==R&&S.getUTCMonth()<O)){P.push("old")}else{if(S.getUTCFullYear()>R||(S.getUTCFullYear()==R&&S.getUTCMonth()>O)){P.push("new")}}if(this.o.todayHighlight&&S.getUTCFullYear()==Q.getFullYear()&&S.getUTCMonth()==Q.getMonth()&&S.getUTCDate()==Q.getDate()){P.push("today")}if(N&&S.valueOf()==N){P.push("active")}if(S.valueOf()<this.o.startDate||S.valueOf()>this.o.endDate||K.inArray(S.getUTCDay(),this.o.daysOfWeekDisabled)!==-1){P.push("disabled")}if(this.range){if(S>this.range[0]&&S<this.range[this.range.length-1]){P.push("range")}if(K.inArray(S.valueOf(),this.range)!=-1){P.push("selected")}}return P},fill:function(){var Z=new Date(this.viewDate),b=Z.getUTCFullYear(),h=Z.getUTCMonth(),P=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,N=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,X=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,Q=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,c=this.date&&this.date.valueOf(),e;this.picker.find(".datepicker-days thead th.datepicker-switch").text(H[this.o.language].months[h]+" "+b);this.picker.find("tfoot th.today").text(H[this.o.language].today).toggle(this.o.todayBtn!==false);this.picker.find("tfoot th.clear").text(H[this.o.language].clear).toggle(this.o.clearBtn!==false);this.updateNavArrows();this.fillMonths();var k=A(b,h-1,28,0,0,0,0),f=G.getDaysInMonth(k.getUTCFullYear(),k.getUTCMonth());k.setUTCDate(f);k.setUTCDate(f-(k.getUTCDay()-this.o.weekStart+7)%7);var V=new Date(k);V.setUTCDate(V.getUTCDate()+42);V=V.valueOf();var a=[];var Y;while(k.valueOf()<V){if(k.getUTCDay()==this.o.weekStart){a.push("<tr>");if(this.o.calendarWeeks){var O=new Date(+k+(this.o.weekStart-k.getUTCDay()-7)%7*86400000),R=new Date(+O+(7+4-O.getUTCDay())%7*86400000),U=new Date(+(U=A(R.getUTCFullYear(),0,1))+(7+4-U.getUTCDay())%7*86400000),W=(R-U)/86400000/7+1;a.push('<td class="cw">'+W+"</td>")}}Y=this.getClassNames(k);Y.push("day");var T=this.o.beforeShowDay(k);if(T===undefined){T={}}else{if(typeof(T)==="boolean"){T={enabled:T}}else{if(typeof(T)==="string"){T={classes:T}}}}if(T.enabled===false){Y.push("disabled")}if(T.classes){Y=Y.concat(T.classes.split(/\s+/))}if(T.tooltip){e=T.tooltip}Y=K.unique(Y);a.push('<td class="'+Y.join(" ")+'"'+(e?' title="'+e+'"':"")+">"+k.getUTCDate()+"</td>");if(k.getUTCDay()==this.o.weekEnd){a.push("</tr>")}k.setUTCDate(k.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(a.join(""));var l=this.date&&this.date.getUTCFullYear();var j=this.picker.find(".datepicker-months").find("th:eq(1)").text(b).end().find("span").removeClass("active");if(l&&l==b){j.eq(this.date.getUTCMonth()).addClass("active")}if(b<P||b>X){j.addClass("disabled")}if(b==P){j.slice(0,N).addClass("disabled")}if(b==X){j.slice(Q+1).addClass("disabled")}a="";b=parseInt(b/10,10)*10;var S=this.picker.find(".datepicker-years").find("th:eq(1)").text(b+"-"+(b+9)).end().find("td");b-=1;for(var g=-1;g<11;g++){a+='<span class="year'+(g==-1?" old":g==10?" new":"")+(l==b?" active":"")+(b<P||b>X?" disabled":"")+'">'+b+"</span>";b+=1}S.html(a)},updateNavArrows:function(){if(!this._allow_update){return}var N=new Date(this.viewDate),P=N.getUTCFullYear(),O=N.getUTCMonth();switch(this.viewMode){case 0:if(this.o.startDate!==-Infinity&&P<=this.o.startDate.getUTCFullYear()&&O<=this.o.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&P>=this.o.endDate.getUTCFullYear()&&O>=this.o.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:case 2:if(this.o.startDate!==-Infinity&&P<=this.o.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&P>=this.o.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},click:function(N){N.preventDefault();var T=K(N.target).closest("span, td, th");if(T.length==1){switch(T[0].nodeName.toLowerCase()){case"th":switch(T[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var P=G.modes[this.viewMode].navStep*(T[0].className=="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,P);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,P);break}this.fill();break;case"today":var V=new Date();V=A(V.getFullYear(),V.getMonth(),V.getDate(),0,0,0);this.showMode(-2);var S=this.o.todayBtn=="linked"?null:"view";this._setDate(V,S);break;case"clear":var O;if(this.isInput){O=this.element}else{if(this.component){O=this.element.find("input")}}if(O){O.val("").change()}this._trigger("changeDate");this.update();if(this.o.autoclose){this.hide()}break}break;case"span":if(!T.is(".disabled")){this.viewDate.setUTCDate(1);if(T.is(".month")){var R=1;var Q=T.parent().find("span").index(T);var U=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(Q);this._trigger("changeMonth",this.viewDate);if(this.o.minViewMode===1){this._setDate(A(U,Q,R,0,0,0,0))}}else{var U=parseInt(T.text(),10)||0;var R=1;var Q=0;this.viewDate.setUTCFullYear(U);this._trigger("changeYear",this.viewDate);if(this.o.minViewMode===2){this._setDate(A(U,Q,R,0,0,0,0))}}this.showMode(-1);this.fill()}break;case"td":if(T.is(".day")&&!T.is(".disabled")){var R=parseInt(T.text(),10)||1;var U=this.viewDate.getUTCFullYear(),Q=this.viewDate.getUTCMonth();if(T.is(".old")){if(Q===0){Q=11;U-=1}else{Q-=1}}else{if(T.is(".new")){if(Q==11){Q=0;U+=1}else{Q+=1}}}this._setDate(A(U,Q,R,0,0,0,0))}break}}},_setDate:function(P,N){if(!N||N=="date"){this.date=new Date(P)}if(!N||N=="view"){this.viewDate=new Date(P)}this.fill();this.setValue();this._trigger("changeDate");var O;if(this.isInput){O=this.element}else{if(this.component){O=this.element.find("input")}}if(O){O.change();if(this.o.autoclose&&(!N||N=="date")){this.hide()}}},moveMonth:function(V,Q){if(!Q){return V}var T=new Date(V.valueOf()),R=T.getUTCDate(),N=T.getUTCMonth(),P=Math.abs(Q),O,U;Q=Q>0?1:-1;if(P==1){U=Q==-1?function(){return T.getUTCMonth()==N}:function(){return T.getUTCMonth()!=O};O=N+Q;T.setUTCMonth(O);if(O<0||O>11){O=(O+12)%12}}else{for(var S=0;S<P;S++){T=this.moveMonth(T,Q)}O=T.getUTCMonth();T.setUTCDate(R);U=function(){return O!=T.getUTCMonth()}}while(U()){T.setUTCDate(--R);T.setUTCMonth(O)}return T},moveYear:function(O,N){return this.moveMonth(O,N*12)},dateWithinRange:function(N){return N>=this.o.startDate&&N<=this.o.endDate},keydown:function(Q){if(this.picker.is(":not(:visible)")){if(Q.keyCode==27){this.show()}return}var N=false,R,S,P,U,T;switch(Q.keyCode){case 27:this.hide();Q.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation){break}R=Q.keyCode==37?-1:1;if(Q.ctrlKey){U=this.moveYear(this.date,R);T=this.moveYear(this.viewDate,R)}else{if(Q.shiftKey){U=this.moveMonth(this.date,R);T=this.moveMonth(this.viewDate,R)}else{U=new Date(this.date);U.setUTCDate(this.date.getUTCDate()+R);T=new Date(this.viewDate);T.setUTCDate(this.viewDate.getUTCDate()+R)}}if(this.dateWithinRange(U)){this.date=U;this.viewDate=T;this.setValue();this.update();Q.preventDefault();N=true}break;case 38:case 40:if(!this.o.keyboardNavigation){break}R=Q.keyCode==38?-1:1;if(Q.ctrlKey){U=this.moveYear(this.date,R);T=this.moveYear(this.viewDate,R)}else{if(Q.shiftKey){U=this.moveMonth(this.date,R);T=this.moveMonth(this.viewDate,R)}else{U=new Date(this.date);U.setUTCDate(this.date.getUTCDate()+R*7);T=new Date(this.viewDate);T.setUTCDate(this.viewDate.getUTCDate()+R*7)}}if(this.dateWithinRange(U)){this.date=U;this.viewDate=T;this.setValue();this.update();Q.preventDefault();N=true}break;case 13:this.hide();Q.preventDefault();break;case 9:this.hide();break}if(N){this._trigger("changeDate");var O;if(this.isInput){O=this.element}else{if(this.component){O=this.element.find("input")}}if(O){O.change()}}},showMode:function(N){if(N){this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+N))}this.picker.find(">div").hide().filter(".datepicker-"+G.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var L=function(O,N){this.element=K(O);this.inputs=K.map(N.inputs,function(P){return P.jquery?P[0]:P});delete N.inputs;K(this.inputs).datepicker(N).bind("changeDate",K.proxy(this.dateUpdated,this));this.pickers=K.map(this.inputs,function(P){return K(P).data("datepicker")});this.updateDates()};L.prototype={updateDates:function(){this.dates=K.map(this.pickers,function(N){return N.date});this.updateRanges()},updateRanges:function(){var N=K.map(this.dates,function(O){return O.valueOf()});K.each(this.pickers,function(O,P){P.setRange(N)})},dateUpdated:function(P){var Q=K(P.target).data("datepicker"),N=Q.getUTCDate(),O=K.inArray(P.target,this.inputs),R=this.inputs.length;if(O==-1){return}if(N<this.dates[O]){while(O>=0&&N<this.dates[O]){this.pickers[O--].setUTCDate(N)}}else{if(N>this.dates[O]){while(O<R&&N>this.dates[O]){this.pickers[O++].setUTCDate(N)}}}this.updateDates()},remove:function(){K.map(this.pickers,function(N){N.remove()});delete this.element.data().datepicker}};function C(N,P){var T=K(N).data(),R={},Q,S=new RegExp("^"+P.toLowerCase()+"([A-Z])"),P=new RegExp("^"+P.toLowerCase());for(var O in T){if(P.test(O)){Q=O.replace(S,function(V,U){return U.toLowerCase()});R[Q]=T[O]}}return R}function J(O){var P={};if(!H[O]){O=O.split("-")[0];if(!H[O]){return}}var N=H[O];K.each(E,function(Q,R){if(R in N){P[R]=N[R]}});return P}var B=K.fn.datepicker;var M=K.fn.datepicker=function(N){var Q=Array.apply(null,arguments);Q.shift();var O,P;this.each(function(){var X=K(this),R=X.data("datepicker"),U=typeof N=="object"&&N;if(!R){var T=C(this,"date"),W=K.extend({},D,T,U),Y=J(W.language),V=K.extend({},D,Y,T,U);if(X.is(".input-daterange")||V.inputs){var S={inputs:V.inputs||X.find("input").toArray()};X.data("datepicker",(R=new L(this,K.extend(V,S))))}else{X.data("datepicker",(R=new F(this,V)))}}if(typeof N=="string"&&typeof R[N]=="function"){O=R[N].apply(R,Q);if(O!==undefined){return false}}});if(O!==undefined){return O}else{return this}};var D=K.fn.datepicker.defaults={autoclose:false,beforeShowDay:K.noop,calendarWeeks:false,clearBtn:false,daysOfWeekDisabled:[],endDate:Infinity,forceParse:true,format:"mm/dd/yyyy",keyboardNavigation:true,language:"en",minViewMode:0,rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlight:false,weekStart:0};var E=K.fn.datepicker.locale_opts=["format","rtl","weekStart"];K.fn.datepicker.Constructor=F;var H=K.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};var G={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(N){return(((N%4===0)&&(N%100!==0))||(N%400===0))},getDaysInMonth:function(O,N){return[31,(G.isLeapYear(O)?29:28),31,30,31,30,31,31,30,31,30,31][N]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(O){var P=O.replace(this.validParts,"\0").split("\0"),N=O.match(this.validParts);if(!P||!P.length||!N||N.length===0){throw new Error("Invalid date format.")}return{separators:P,parts:N}},parseDate:function(c,R,a){if(c instanceof Date){return c}if(typeof R==="string"){R=G.parseFormat(R)}if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(c)){var O=/([\-+]\d+)([dmwy])/,X=c.match(/([\-+]\d+)([dmwy])/g),Y,P;c=new Date();for(var U=0;U<X.length;U++){Y=O.exec(X[U]);P=parseInt(Y[1]);switch(Y[2]){case"d":c.setUTCDate(c.getUTCDate()+P);break;case"m":c=F.prototype.moveMonth.call(F.prototype,c,P);break;case"w":c.setUTCDate(c.getUTCDate()+P*7);break;case"y":c=F.prototype.moveYear.call(F.prototype,c,P);break}}return A(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),0,0,0)}var X=c&&c.match(this.nonpunctuation)||[],c=new Date(),Z={},T=["yyyy","yy","M","MM","m","mm","d","dd"],N={yyyy:function(e,f){return e.setUTCFullYear(f)},yy:function(e,f){return e.setUTCFullYear(2000+f)},m:function(e,f){f-=1;while(f<0){f+=12}f%=12;e.setUTCMonth(f);while(e.getUTCMonth()!=f){e.setUTCDate(e.getUTCDate()-1)}return e},d:function(e,f){return e.setUTCDate(f)}},Q,b,Y;N["M"]=N["MM"]=N["mm"]=N["m"];N["dd"]=N["d"];c=A(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0);var V=R.parts.slice();if(X.length!=V.length){V=K(V).filter(function(d,e){return K.inArray(e,T)!==-1}).toArray()}if(X.length==V.length){for(var U=0,W=V.length;U<W;U++){Q=parseInt(X[U],10);Y=V[U];if(isNaN(Q)){switch(Y){case"MM":b=K(H[a].months).filter(function(){var e=this.slice(0,X[U].length),d=X[U].slice(0,e.length);return e==d});Q=K.inArray(b[0],H[a].months)+1;break;case"M":b=K(H[a].monthsShort).filter(function(){var e=this.slice(0,X[U].length),d=X[U].slice(0,e.length);return e==d});Q=K.inArray(b[0],H[a].monthsShort)+1;break}}Z[Y]=Q}for(var U=0,S;U<T.length;U++){S=T[U];if(S in Z&&!isNaN(Z[S])){N[S](c,Z[S])}}}return c},formatDate:function(S,O,N){if(typeof O==="string"){O=G.parseFormat(O)}var R={d:S.getUTCDate(),D:H[N].daysShort[S.getUTCDay()],DD:H[N].days[S.getUTCDay()],m:S.getUTCMonth()+1,M:H[N].monthsShort[S.getUTCMonth()],MM:H[N].months[S.getUTCMonth()],yy:S.getUTCFullYear().toString().substring(2),yyyy:S.getUTCFullYear()};R.dd=(R.d<10?"0":"")+R.d;R.mm=(R.m<10?"0":"")+R.m;var S=[],T=K.extend([],O.separators);for(var P=0,Q=O.parts.length;P<=Q;P++){if(T.length){S.push(T.shift())}S.push(R[O.parts[P]])}return S.join("")},headTemplate:'<thead><tr><th class="prev"><i class="fa fa-angle-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="fa fa-angle-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};G.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+G.headTemplate+"<tbody></tbody>"+G.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+G.headTemplate+G.contTemplate+G.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+G.headTemplate+G.contTemplate+G.footTemplate+"</table></div></div>";K.fn.datepicker.DPGlobal=G;K.fn.datepicker.noConflict=function(){K.fn.datepicker=B;return this};K(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(N){var O=K(this);if(O.data("datepicker")){return}N.preventDefault();M.call(O,"show")});K(function(){M.call(K('[data-provide="datepicker-inline"]'))})}(window.jQuery));(function(B){B.fn.bdatepicker=B.fn.datepicker.noConflict();if(!B.fn.datepicker){B.fn.datepicker=B.fn.bdatepicker}var A=function(C){this.init("date",C,A.defaults);this.initPicker(C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.abstractinput);B.extend(A.prototype,{initPicker:function(C,D){if(!this.options.viewformat){this.options.viewformat=this.options.format}C.datepicker=B.fn.editableutils.tryParseJson(C.datepicker,true);this.options.datepicker=B.extend({},D.datepicker,C.datepicker,{format:this.options.viewformat});this.options.datepicker.language=this.options.datepicker.language||"en";this.dpg=B.fn.bdatepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker);if(this.options.clear){this.$clear=B('<a href="#"></a>').html(this.options.clear).click(B.proxy(function(C){C.preventDefault();C.stopPropagation();this.clear()},this));this.$tpl.parent().append(B('<div class="editable-clear">').append(this.$clear))}},value2html:function(D,E){var C=D?this.dpg.formatDate(D,this.parsedViewFormat,this.options.datepicker.language):"";A.superclass.value2html(C,E)},html2value:function(C){return this.parseDate(C,this.parsedViewFormat)},value2str:function(C){return C?this.dpg.formatDate(C,this.parsedFormat,this.options.datepicker.language):""},str2value:function(C){return this.parseDate(C,this.parsedFormat)},value2submit:function(C){return this.value2str(C)},value2input:function(C){this.$input.bdatepicker("update",C)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null;this.$input.find(".active").removeClass("active");if(!this.options.showbuttons){this.$input.closest("form").submit()}},autosubmit:function(){this.$input.on("mouseup",".day",function(D){if(B(D.currentTarget).is(".old")||B(D.currentTarget).is(".new")){return}var C=B(this).closest("form");setTimeout(function(){C.submit()},200)})},parseDate:function(D,C){var E=null,F;if(D){E=this.dpg.parseDate(D,C,this.options.datepicker.language);if(typeof D==="string"){F=this.dpg.formatDate(E,C,this.options.datepicker.language);if(D!==F){E=null}}}return E}});A.defaults=B.extend({},B.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:false},clear:'clear <i class="icon-remove fa fa-times" style="font-size:12px"></i>'});B.fn.editabletypes.date=A}(window.jQuery));(function(B){var A=function(C){this.init("datefield",C,A.defaults);this.initPicker(C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.date);B.extend(A.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.bdatepicker(this.options.datepicker);this.$input.off("focus keydown");this.$input.keyup(B.proxy(function(){this.$tpl.removeData("date");this.$tpl.bdatepicker("update")},this))},value2input:function(C){this.$input.val(C?this.dpg.formatDate(C,this.parsedViewFormat,this.options.datepicker.language):"");this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){B.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});A.defaults=B.extend({},B.fn.editabletypes.date.defaults,{tpl:'<div class="input-group input-group-fixed date"><input type="text" readonly class="form-control input-medium pull-left"/><span class="input-group-btn pull-left"><button class="btn default" type="button"><i class="fa fa-calendar"></i></button></span></div>',inputclass:"form-control input-medium",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:true}});B.fn.editabletypes.datefield=A}(window.jQuery));(function(B){var A=function(C){this.init("datetime",C,A.defaults);this.initPicker(C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.abstractinput);B.extend(A.prototype,{initPicker:function(C,D){if(!this.options.viewformat){this.options.viewformat=this.options.format}C.datetimepicker=B.fn.editableutils.tryParseJson(C.datetimepicker,true);this.options.datetimepicker=B.extend({},D.datetimepicker,C.datetimepicker,{format:this.options.viewformat});this.options.datetimepicker.language=this.options.datetimepicker.language||"en";this.dpg=B.fn.datetimepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker);this.$input.on("changeMode",function(C){var D=B(this).closest("form").parent();setTimeout(function(){D.triggerHandler("resize")},0)});if(this.options.clear){this.$clear=B('<a href="#"></a>').html(this.options.clear).click(B.proxy(function(C){C.preventDefault();C.stopPropagation();this.clear()},this));this.$tpl.parent().append(B('<div class="editable-clear">').append(this.$clear))}},value2html:function(D,E){var C=D?this.dpg.formatDate(this.toUTC(D),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";if(E){A.superclass.value2html(C,E)}else{return C}},html2value:function(C){var D=this.parseDate(C,this.parsedViewFormat);return D?this.fromUTC(D):null},value2str:function(C){return C?this.dpg.formatDate(this.toUTC(C),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(C){var D=this.parseDate(C,this.parsedFormat);return D?this.fromUTC(D):null},value2submit:function(C){return this.value2str(C)},value2input:function(C){if(C){this.$input.data("datetimepicker").setDate(C)}},input2value:function(){var C=this.$input.data("datetimepicker");return C.date?C.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null;this.$input.find(".active").removeClass("active");if(!this.options.showbuttons){this.$input.closest("form").submit()}},autosubmit:function(){this.$input.on("mouseup",".minute",function(D){var C=B(this).closest("form");setTimeout(function(){C.submit()},200)})},toUTC:function(C){return C?new Date(C.valueOf()-C.getTimezoneOffset()*60000):C},fromUTC:function(C){return C?new Date(C.valueOf()+C.getTimezoneOffset()*60000):C},parseDate:function(D,C){var E=null,F;if(D){E=this.dpg.parseDate(D,C,this.options.datetimepicker.language,this.options.formatType);if(typeof D==="string"){F=this.dpg.formatDate(E,C,this.options.datetimepicker.language,this.options.formatType);if(D!==F){E=null}}}return E}});A.defaults=B.extend({},B.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:false,autoclose:false},clear:'clear <i class="icon-remove fa fa-times" style="font-size:12px"></i>'});B.fn.editabletypes.datetime=A}(window.jQuery));(function(B){var A=function(C){this.init("datetimefield",C,A.defaults);this.initPicker(C,A.defaults)};B.fn.editableutils.inherit(A,B.fn.editabletypes.datetime);B.extend(A.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.datetimepicker(this.options.datetimepicker);this.$input.off("focus keydown");this.$input.keyup(B.proxy(function(){this.$tpl.removeData("date");this.$tpl.datetimepicker("update")},this))},value2input:function(C){this.$input.val(this.value2html(C));this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){B.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});A.defaults=B.extend({},B.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-group input-group-fixed date"><input type="text" readonly class="form-control input-medium pull-left"/><span class="input-group-btn pull-left"><button class="btn date-set default" type="button"><i class="fa fa-calendar"></i></button></span></div>',inputclass:"form-control input-medium",datetimepicker:{todayHighlight:false,autoclose:true}});B.fn.editabletypes.datetimefield=A}(window.jQuery));(function(B){var A=function(C){this.init("typeahead",C,A.defaults);this.options.typeahead=B.extend({},A.defaults.typeahead,{matcher:this.matcher,sorter:this.sorter,highlighter:this.highlighter,updater:this.updater},C.typeahead)};B.fn.editableutils.inherit(A,B.fn.editabletypes.list);B.extend(A.prototype,{renderList:function(){this.$input=this.$tpl.is("input")?this.$tpl:this.$tpl.find('input[type="text"]');this.options.typeahead.source=this.sourceData;this.$input.typeahead(this.options.typeahead);var C=this.$input.data("typeahead");C.render=B.proxy(this.typeaheadRender,C);C.select=B.proxy(this.typeaheadSelect,C);C.move=B.proxy(this.typeaheadMove,C);this.renderClear();this.setClass();this.setAttr("placeholder")},value2htmlFinal:function(D,E){if(this.getIsObjects()){var C=B.fn.editableutils.itemsByValue(D,this.sourceData);B(E).text(C.length?C[0].text:"")}else{B(E).text(D)}},html2value:function(C){return C?C:null},value2input:function(D){if(this.getIsObjects()){var C=B.fn.editableutils.itemsByValue(D,this.sourceData);this.$input.data("value",D).val(C.length?C[0].text:"")}else{this.$input.val(D)}},input2value:function(){if(this.getIsObjects()){var D=this.$input.data("value"),C=B.fn.editableutils.itemsByValue(D,this.sourceData);if(C.length&&C[0].text.toLowerCase()===this.$input.val().toLowerCase()){return D}else{return null}}else{return this.$input.val()}},getIsObjects:function(){if(this.isObjects===undefined){this.isObjects=false;for(var C=0;C<this.sourceData.length;C++){if(this.sourceData[C].value!==this.sourceData[C].text){this.isObjects=true;break}}}return this.isObjects},activate:B.fn.editabletypes.text.prototype.activate,renderClear:B.fn.editabletypes.text.prototype.renderClear,postrender:B.fn.editabletypes.text.prototype.postrender,toggleClear:B.fn.editabletypes.text.prototype.toggleClear,clear:function(){B.fn.editabletypes.text.prototype.clear.call(this);this.$input.data("value","")},matcher:function(C){return B.fn.typeahead.Constructor.prototype.matcher.call(this,C.text)},sorter:function(F){var G=[],H=[],D=[],E,C;while(E=F.shift()){C=E.text;if(!C.toLowerCase().indexOf(this.query.toLowerCase())){G.push(E)}else{if(~C.indexOf(this.query)){H.push(E)}else{D.push(E)}}}return G.concat(H,D)},highlighter:function(C){return B.fn.typeahead.Constructor.prototype.highlighter.call(this,C.text)},updater:function(C){this.$element.data("value",C.value);return C.text},typeaheadRender:function(D){var C=this;D=B(D).map(function(E,F){E=B(C.options.item).data("item",F);E.find("a").html(C.highlighter(F));return E[0]});if(this.options.autoSelect){D.first().addClass("active")}this.$menu.html(D);return this},typeaheadSelect:function(){var C=this.$menu.find(".active").data("item");if(this.options.autoSelect||C){this.$element.val(this.updater(C)).change()}return this.hide()},typeaheadMove:function(C){if(!this.shown){return}switch(C.keyCode){case 9:case 13:case 27:if(!this.$menu.find(".active").length){return}C.preventDefault();break;case 38:C.preventDefault();this.prev();break;case 40:C.preventDefault();this.next();break}C.stopPropagation()}});A.defaults=B.extend({},B.fn.editabletypes.list.defaults,{tpl:'<input type="text">',typeahead:null,clear:true});B.fn.editabletypes.typeahead=A}(window.jQuery));